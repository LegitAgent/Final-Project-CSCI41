{% extends 'base.html' %}

{% block content %}
 
  <main class="d-flex flex-column justify-content-center align-items-center h-100" id="login-page">
    {% if form.non_field_errors %}
      <div class="alert alert-dismissible alert-danger d-flex flex-column flex-sm-row p-5 mb-10 mx-auto z-index-3 w-md-400px">
        <i class="ki-duotone ki-information-5 fs-1 text-danger me-4 d-none d-md-block">
          <span class="path1"></span>
          <span class="path2"></span>
          <span class="path3"></span>
        </i>
        <div class="d-flex flex-column text-danger pe-0 pe-sm-10">
          {% for error in form.non_field_errors %}
          <span>{{ error }}</span>
          {% endfor %}
        </div>
        <button type="button" class="position-absolute position-sm-relative m-2 m-sm-0 top-0 end-0 btn btn-icon ms-sm-auto" data-bs-dismiss="alert">
          <i class="fa-solid fa-xmark text-danger fs-2"></i>
        </button>
      </div>
    {% endif %}
    <div class="card d-flex flex-column align-items-stretch flex-center rounded-4 w-md-400px p-12">
      <form method="POST" class="form w-100 fv-plugins-bootstrap5 fv-plugins-framework">
        {% csrf_token %}
        
        <div class="text-center mb-11">
          <h1 class="text-gray-900 fw-bolder mb-3">Log In</h1>
        </div>
        <div class="fv-row mb-8 fv-plugins-icon-container">
          <input id="{{ form.username.id_for_label }}" name="{{ form.username.html_name }}" type="text" placeholder="Username" autocomplete="off" maxlength="150" class="form-control bg-transparent" required />
          <div class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"></div>
        </div>

        <div class="fv-row mb-8 fv-plugins-icon-container">
          <input id="{{ form.password.id_for_label }}" name="{{ form.password.html_name }}" type="password" placeholder="Password" autocomplete="current-password" class="form-control bg-transparent" required />
          <div class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"></div>
        </div>
        
        <div class="d-grid mb-10">
          <button type="submit" class="btn btn-primary">
            <span class="">Login In</span>
          </button>
        </div>
        <div class="text-gray-500 text-center fw-semibold fs-6">
          Not a Member yet?
          {% comment %} <a href="{% url 'account:register' %}" class="link-primary">Sign up</a> {% endcomment %}
          <a href="{% url 'account:register_participant' %}" class="link-primary">Sign up</a>
        </div>
      </form>
    </div>
  </main>
  
{% endblock %}
